<!DOCTYPE html>
<html lang="en" class="bg-[#0d0d0d] text-white">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Project Details</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
  <!-- Navbar -->
  <header class="bg-white dark:bg-gray-900 p-4 shadow-md">
    <div class="flex justify-between items-center">
      <h1 class="text-lg font-bold text-indigo-600">CryptoEscrow</h1>
      <button id="menuBtn" class="text-gray-600 dark:text-gray-300 text-2xl sm:hidden">‚ò∞</button>
    </div>
    <nav id="mobileMenu" class="fixed top-20 right-4 z-50 bg-[#1a1a1a] text-white rounded-xl shadow-xl border border-gray-700 p-4 space-y-2 hidden sm:flex sm:static sm:bg-transparent sm:shadow-none sm:border-none sm:space-y-0 sm:flex-row sm:space-x-4 sm:p-0">
  <a href="index.html" class="nav-link block hover:underline">üè† Home</a>
  <a href="submit.html" class="nav-link block hover:underline">üì§ Submit Project</a>
  <a href="escrow.html" class="nav-link block hover:underline">üíº Request Escrow</a>
  <a href="status.html" class="nav-link block hover:underline">üìç Track Status</a>
  <a href="admin.html" id="adminLink" class="nav-link block hover:underline hidden">üîê Admin</a>
  <a href="terms.html" class="nav-link block hover:underline">üìú Terms</a><br \>
  <a href="privacy.html"class=nav-link block hover:underline">üîí Privacy</a>
      
  </header>
<!-- Wallet Connect Button -->
<button onclick="openWalletModal()" id="walletBtn" class="text-sm bg-gray-200 hover:bg-gray-300 text-gray-800 px-3 py-1 rounded">
  üîå Connect Wallet
</button>

<!-- Modal -->
<div id="walletModal" class="fixed inset-0 bg-black/50 flex items-center justify-center hidden z-50">
  <div class="bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg max-w-sm w-full">
    <h2 class="text-xl font-semibold mb-4">Connect Wallet</h2>
    <button onclick="connectFakeWallet()" class="w-full bg-orange-500 text-white p-2 rounded hover:bg-orange-600">ü¶ä MetaMask (Simulated)</button>
    <button onclick="closeWalletModal()" class="w-full mt-4 text-sm text-gray-500 hover:underline">Cancel</button>
  </div>
</div>

<script>
  function openWalletModal() {
    document.getElementById("walletModal").classList.remove("hidden");
  }
  
  function closeWalletModal() {
    document.getElementById("walletModal").classList.add("hidden");
  }
  
  function connectFakeWallet() {
    const fakeAddress = "0x" + Math.random().toString(16).substr(2, 40);
    localStorage.setItem("walletAddress", fakeAddress);
    updateWalletUI();
    closeWalletModal();
    alert("‚úÖ Wallet connected!");
  }
  
  function updateWalletUI() {
    const walletBtn = document.getElementById("walletBtn");
    const address = localStorage.getItem("walletAddress");
    if (address) {
      walletBtn.textContent = "‚úÖ Wallet Connected";
      walletBtn.classList.remove("bg-gray-200");
      walletBtn.classList.add("bg-green-200", "text-green-800");
    }
  }
  
  updateWalletUI();
</script>
  <main class="p-6 max-w-xl mx-auto">
    <div id="projectDetails" class="bg-white dark:bg-gray-800 p-6 rounded-xl shadow space-y-4">
      <h1 id="projName" class="text-3xl font-bold mb-2 text-indigo-600"></h1>
      <p id="projCategory" class="text-sm text-gray-500"></p>
      <p id="projStatus" class="text-xs inline-block px-2 py-1 rounded-full bg-yellow-100 text-yellow-700"></p>
      <p id="projDescription" class="text-gray-700 dark:text-gray-300 mt-4"></p>
      <div class="mt-6 flex gap-4">
        <a id="applyLink" class="bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700 text-sm" href="#">Apply for Escrow</a>
        <button onclick="reportScam()" class="text-red-600 text-sm hover:underline">üö© Report Scam</button>
      </div>
    </div>
  </main>

  <script>
    const params = new URLSearchParams(window.location.search);
    const projectName = params.get("project");

    const projects = JSON.parse(localStorage.getItem("customProjects") || "[]");
    const project = projects.find(p => p.name === projectName);

    if (project) {
      document.getElementById("projName").innerText = project.name;
      document.getElementById("projCategory").innerText = project.category;
      document.getElementById("projDescription").innerText = project.description;
      document.getElementById("projStatus").innerText = project.status;
      document.getElementById("applyLink").href = `escrow.html?project=${encodeURIComponent(project.name)}`;
    } else {
      document.getElementById("projectDetails").innerHTML = "<p class='text-red-500'>Project not found.</p>";
    }

    function reportScam() {
      const reports = JSON.parse(localStorage.getItem("scamReports") || "[]");
      reports.push({ project: projectName, reportedAt: new Date().toISOString() });
      localStorage.setItem("scamReports", JSON.stringify(reports));
      alert("‚ö†Ô∏è Project reported successfully!");
    }

    document.getElementById("menuBtn").onclick = () => {
      document.getElementById("mobileMenu").classList.toggle("hidden");
    };

    const currentPage = window.location.pathname.split("/").pop();
    document.querySelectorAll(".nav-link").forEach(link => {
      if (link.getAttribute("href") === currentPage) {
        link.classList.add("font-semibold", "text-indigo-600");
      }
    });
    const params = new URLSearchParams(window.location.search);
const projectName = params.get("project");

const projects = JSON.parse(localStorage.getItem("customProjects") || "[]");
const project = projects.find(p => p.name === projectName);

if (project) {
  document.getElementById("projName").innerText = project.name;
  document.getElementById("projCategory").innerText = project.category;
  document.getElementById("projDescription").innerText = project.description;
  document.getElementById("projStatus").innerText = project.status;
  document.getElementById("applyLink").href = `escrow.html?project=${encodeURIComponent(project.name)}`;
} else {
  document.getElementById("projectDetails").innerHTML = `
    <p class="text-red-500">‚ö†Ô∏è Project not found.</p>
    <a href="index.html" class="text-indigo-600 text-sm hover:underline">‚Üê Go Back</a>
  `;
}
  </script>
  <footer class="mt-12 bg-[#1a1a1a] text-gray-400 py-6 text-sm border-t border-gray-800">
  <div class="max-w-6xl mx-auto px-4 flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0">
    <p>&copy; 2025 <span class="text-indigo-500 font-semibold">CryptoEscrow</span>. All rights reserved.</p>
    <div class="flex space-x-4">
      <a href="terms.html" class="hover:text-indigo-400">Terms</a>
      <a href="privacy.html" class="hover:text-indigo-400">Privacy</a>
      <a href="mailto:youremail@example.com" class="hover:text-indigo-400">Contact</a>
    </div>
  </div>
</footer>
</body>
</html>
